# ğŸ”‹ Sistema de AnÃ¡lise de Consumo EnergÃ©tico (CDS)

## ğŸ“ SumÃ¡rio
- [ğŸ”‹ Sistema de AnÃ¡lise de Consumo EnergÃ©tico (CDS)](#-sistema-de-anÃ¡lise-de-consumo-energÃ©tico-cds)
  - [ğŸ“ SumÃ¡rio](#-sumÃ¡rio)
  - [ğŸ‘€ VisÃ£o Geral](#-visÃ£o-geral)
  - [ğŸ— Arquitetura](#-arquitetura)
  - [ğŸ“ Estrutura do Projeto](#-estrutura-do-projeto)
  - [âš™ï¸ ConfiguraÃ§Ã£o](#ï¸-configuraÃ§Ã£o)
    - [PrÃ©-requisitos](#prÃ©-requisitos)
    - [InstalaÃ§Ã£o](#instalaÃ§Ã£o)
- [Edite .env com suas credenciais](#edite-env-com-suas-credenciais)
  - [ğŸš€ ExecuÃ§Ã£o](#-execuÃ§Ã£o)
  - [ğŸ“Š Pipeline de Dados](#-pipeline-de-dados)
    - [Coleta (ANEEL)](#coleta-aneel)
    - [Processamento](#processamento)
    - [Armazenamento](#armazenamento)
  - [ğŸ”— IntegraÃ§Ã£o](#-integraÃ§Ã£o)
    - [Com AICSS](#com-aicss)
    - [Com SCR](#com-scr)
  - [ğŸ“ˆ MÃ©tricas e KPIs](#-mÃ©tricas-e-kpis)
  - [ğŸ”’ SeguranÃ§a](#-seguranÃ§a)
  - [ğŸ“š DocumentaÃ§Ã£o API](#-documentaÃ§Ã£o-api)
  - [ğŸ”„ ManutenÃ§Ã£o](#-manutenÃ§Ã£o)
  - [ğŸ“± Interface Web](#-interface-web)
  - [ğŸŒ Endpoints API](#-endpoints-api)
    - [Dados ANEEL](#dados-aneel)
    - [AnÃ¡lise](#anÃ¡lise)
    - [IntegraÃ§Ã£o AICSS](#integraÃ§Ã£o-aicss)
  - [ğŸ¤ ContribuiÃ§Ã£o](#-contribuiÃ§Ã£o)
  - [ğŸ“Š VisualizaÃ§Ã£o](#-visualizaÃ§Ã£o)
    - [Dashboards](#dashboards)
    - [RelatÃ³rios](#relatÃ³rios)
  - [ğŸ“„ LicenÃ§a](#-licenÃ§a)
  - [ğŸ”— Links Ãšteis](#-links-Ãºteis)

## ğŸ‘€ VisÃ£o Geral
Sistema de anÃ¡lise de consumo energÃ©tico que integra dados da ANEEL com informaÃ§Ãµes do sistema AICSS para fornecer insights sobre padrÃµes de consumo e eficiÃªncia energÃ©tica.

## ğŸ— Arquitetura

                    +------------+     +-----------+     +------------+
                    |  ANEEL API |     |AICSS Data|     |Sensor Data|
                    +------------+     +-----------+     +------------+
                           |                |                |
                           v                v                v
                                  +----------------+
                                  |   ETL Layer    |
                                  +----------------+
                                          |
                                          v
                                  +----------------+
                                  | PostgreSQL DB  |
                                  +----------------+
                                          |
                                          v
                                  +----------------+
                                  |Analytics Layer |
                                  +----------------+
                                       |     |
                                       v     v
                            +----------+     +-----------+
                            |VisualizaÃ§Ã£o    |PrediÃ§Ãµes  |
                            +----------+     +-----------+

flowchart LR
    subgraph Fontes de Dados style fill:#f9f,stroke:#333
        A((ANEEL API)) --> ETL((ETL Layer))
        B(AICSS Data) --> ETL
        C(Sensor Data) --> ETL
    end

    ETL --> D{PostgreSQL DB}
    D --> E(Analytics Layer)
    E --> F(VisualizaÃ§Ã£o)
    E --> G(PrediÃ§Ãµes)



## ğŸ“ Estrutura do Projeto

cds/
â”œâ”€â”€ docker/              # Containers e configuraÃ§Ãµes
â”œâ”€â”€ scripts/            # Scripts Python para ETL
â”‚   â”œâ”€â”€ crawler.py     # Coleta dados ANEEL
â”‚   â”œâ”€â”€ etl.py        # Processamento
â”‚   â””â”€â”€ pipeline.py   # OrquestraÃ§Ã£o
â”œâ”€â”€ sql/               # Schemas e queries
â”‚   â”œâ”€â”€ schema.sql
â”‚   â””â”€â”€ queries/
â”œâ”€â”€ data/              # Dados brutos e processados
â””â”€â”€ README.md

## âš™ï¸ ConfiguraÃ§Ã£o

### PrÃ©-requisitos
- Docker e Docker Compose
- Python 3.8+
- PostgreSQL 13+
- pip (Python package manager)

### InstalaÃ§Ã£o
1. Clone o repositÃ³rio:

```bash
git clone <repository-url>
cd cds
```
2. Configure o ambiente:

python -m venv venv
source venv/bin/activate  # Linux/Mac
.\venv\Scripts\activate   # Windows
pip install -r requirements.txt

3. Configure as variÃ¡veis de ambiente:

cp .env.example .env
# Edite .env com suas credenciais

## ğŸš€ ExecuÃ§Ã£o

1. Inicie os containers:

docker-compose up -d

2. Execute o pipeline:

python scripts/pipeline.py

## ğŸ“Š Pipeline de Dados

### Coleta (ANEEL)
- API REST para dados oficiais
- Periodicidade: DiÃ¡ria
- Formato: JSON/CSV

### Processamento
- Limpeza e validaÃ§Ã£o
- TransformaÃ§Ã£o de formatos
- Enriquecimento com dados AICSS (referÃªncia em `aicss/readme.md`, linhas 447-450)

### Armazenamento
- PostgreSQL com particionamento
- Ãndices otimizados
- Backup automÃ¡tico

## ğŸ”— IntegraÃ§Ã£o

### Com AICSS
- Dados de sensores (referÃªncia em `aicss/src/main.cpp`, linhas 5-10)
- MÃ©tricas de consumo
- Alertas em tempo real

### Com SCR
- ExportaÃ§Ã£o para anÃ¡lise R (referÃªncia em `aicss/readme.md`, linhas 457-460)
- ImportaÃ§Ã£o de prediÃ§Ãµes
- MÃ©tricas de desempenho

## ğŸ“ˆ MÃ©tricas e KPIs
- Tempo de processamento ETL
- LatÃªncia de queries
- Taxa de sucesso de coleta
- Qualidade dos dados

## ğŸ”’ SeguranÃ§a
- AutenticaÃ§Ã£o JWT
- SSL/TLS
- Backup automÃ¡tico
- Logs de auditoria

## ğŸ“š DocumentaÃ§Ã£o API
DisponÃ­vel em: `/docs/api.md`

## ğŸ”„ ManutenÃ§Ã£o
- Backup diÃ¡rio automatizado
- Monitoramento 24/7
- Alertas em tempo real
- Logs detalhados

## ğŸ“± Interface Web
- Dashboard em tempo real
- GrÃ¡ficos interativos
- RelatÃ³rios customizados
- Controle de acesso

## ğŸŒ Endpoints API

### Dados ANEEL

``` http
GET /api/v1/aneel/consumo
GET /api/v1/aneel/tarifas
POST /api/v1/aneel/sync
```

### AnÃ¡lise

``` http
GET /api/v1/analytics/consumo
GET /api/v1/analytics/previsao
GET /api/v1/analytics/relatorios
```
### IntegraÃ§Ã£o AICSS

``` http
POST /api/v1/aicss/dados
GET /api/v1/aicss/status
PUT /api/v1/aicss/config
```

## ğŸ¤ ContribuiÃ§Ã£o
1. Fork o projeto
2. Crie sua branch (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudanÃ§as (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request



## ğŸ“Š VisualizaÃ§Ã£o

### Dashboards
- Consumo em tempo real
- HistÃ³rico por perÃ­odo
- PrevisÃµes futuras
- Alertas e notificaÃ§Ãµes

### RelatÃ³rios
- DiÃ¡rios
- Semanais
- Mensais
- Personalizados

## ğŸ“„ LicenÃ§a
DistribuÃ­do sob a licenÃ§a MIT. Veja `LICENSE` para mais informaÃ§Ãµes.

## ğŸ”— Links Ãšteis
- [DocumentaÃ§Ã£o API](/docs/api.md)
- [Guia de ContribuiÃ§Ã£o](/CONTRIBUTING.md)
- [Changelog](/CHANGELOG.md)
